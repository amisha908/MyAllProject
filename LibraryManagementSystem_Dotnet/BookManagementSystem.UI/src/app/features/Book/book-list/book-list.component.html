
<div class="container">
  <div class="dropdown">
    <div class="form-group pb-2">
     
      <input
      placeholder="Search books using name and author"
        type="text"
        id="searchInput"
        [(ngModel)]="searchInput"
        (input)="search()"
        class="form-control"
      />
    </div>

    <h1 class="mt-3">Book List</h1>

    <div class="d-flex justify-content-end mt-3">
      
        <a [routerLink]="['/admin/books/add']" class="btn btn-primary">Add Book</a>
        <div style="margin-right: 10px;"></div>
        <a [routerLink]="['']" class="btn btn-danger">Back</a>
    </div>

    <!-- <ng-container *ngIf="books$ | async as books"> -->
    <ng-container *ngIf="filteredBooks">
        <table class="table table-bordered mt-3">
          <thead>
            <tr>
              <th>Name</th>
              <th>Description</th>
              <th>Is Available?</th>
              <th>Genres</th>
              <!-- <th></th> -->
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let book of filteredBooks">
              <!-- <ng-container *ngIf="book.lentByUserId == userId"> -->
                <td>{{book.name}}</td>
              <td>{{book.description}}</td>
              <td>{{book.isAvailable}}</td>
              <td>
                <span *ngFor="let genre of book.genres">
                  <span class="badge bg-secondary me-2">{{genre.name}}</span>
                </span>
              </td>
              <!-- <td> -->
                <!-- <a class="btn btn-light" [routerLink]="['/admin/books', book.id]">Edit</a> -->
              <!-- </td> -->
              <!-- </ng-container>  -->
            </tr>
          </tbody>
        </table>
    
    
      </ng-container>
    

</div>